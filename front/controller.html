<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Status Controller</title>
  </head>
  <body>
    <h1>Status Controller</h1>
    <div>
      <label for="status-select">Status:</label>
      <select id="status-select">
        <option value="Busy">Busy</option>
        <option value="Free Time">Free Time</option>
        <option value="Resting">Resting</option>
      </select>
      <button id="change-status-btn">Change</button>
    </div>
    <div>
      <label for="dot-select">Dot Color:</label>
      <select id="dot-select">
        <option value="red-dot">Red</option>
        <option value="green-dot">Green</option>
        <option value="silver-dot">Silver</option>
      </select>
      <button id="change-dot-btn">Change</button>
    </div>
    <script>
      // Set the status text and dot class based on the user input
      function setStatus() {
        // Get the input values from the form
        const statusSelect = document.getElementById('status-select');
        const statusText = statusSelect.options[statusSelect.selectedIndex].text;
        const dotSelect = document.getElementById('dot-select');
        const dotClass = dotSelect.options[dotSelect.selectedIndex].value;
        
        // Send the status update to the main script
        const message = { statusText, dotClass };
        window.parent.postMessage(message, '*');
      }
      
      // Add a listener for the form submission
      const form = document.getElementById('status-form');
      form.addEventListener('submit', (event) => {
        event.preventDefault();
        setStatus();
      });
    </script> 
    <script src="controller.js"></script>
  </body>
</html>
